---
description: "Invalid CheckResourceSet request"
wantStatus:
  httpStatusCode: 400
  grpcStatusCode: 3
wantError: true
playgroundProxy:
  input: {
    "playgroundId": "test",
    "policyFiles": [
      {
        "fileName": "derived_roles_01.yaml",
        "contents": "{{ .Files.Get `store/derived_roles/derived_roles_01.yaml` | b64enc }}",
      },
      {
        "fileName": "derived_roles_02.yaml",
        "contents": "{{ .Files.Get `store/derived_roles/derived_roles_02.yaml` | b64enc }}",
      },
      {
        "fileName": "resource.yaml",
        "contents": "{{ .Files.Get `store/resource_policies/policy_01.yaml` | b64enc }}"
      },
      {
        "fileName": "policy_02.yaml",
        "contents": "{{ .Files.Get `store/principal_policies/policy_01.yaml` | b64enc }}",
      },
      {
        "fileName": "_schemas/principal.json",
        "contents": "{{ .Files.Get `store/_schemas/principal.json` | b64enc }}",
      },
      {
        "fileName": "_schemas/leave_request.json",
        "contents": "{{ .Files.Get `store/_schemas/leave_request.json` | b64enc }}",
      }
    ],
    "checkResourceSet": {
      "requestId": "test",
      "actions": [
        "view:public",
        "approve"
      ],
      "principal": {
        "id": "john",
        "policyVersion": "20210210",
        "roles": [
          "employee"
        ],
        "attr": {
          "department": "marketing",
          "geography": "GB",
          "team": "design"
        }
      },
      "resource": {
        "kind": "leave_request",
        "policyVersion": "20210210",
      }
    }
  }
