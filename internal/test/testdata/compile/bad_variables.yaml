# yaml-language-server: $schema=../.jsonschema/CompileTestCase.schema.json
---
wantErrors:
  - file: resource_policies/example.yaml
    error: cyclical variable definitions
    description: |-
      Variable 'a' references itself
  - file: resource_policies/example.yaml
    error: cyclical variable definitions
    description: |-
      Variables 'b' and 'c' form a cycle
  - file: resource_policies/example.yaml
    error: cyclical variable definitions
    description: |-
      Variables 'd', 'e', 'f', and 'g' form a cycle
  - file: resource_policies/example.yaml
    error: undefined variable
    description: |-
      Undefined variable 'x' referenced in variable 'h'
  - file: resource_policies/example.yaml
    error: undefined variable
    description: |-
      Undefined variable 'y' referenced in variable 'h'
  - file: resource_policies/example.yaml
    error: undefined variable
    description: |-
      Undefined variable 'z'
    position:
      line: 25
      column: 11
      path: "$.resourcePolicy.rules[0].condition.match.expr"
mainDef: resource_policies/example.yaml
